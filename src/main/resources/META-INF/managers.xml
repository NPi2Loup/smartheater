<?xml version =	'1.0' encoding = 'UTF-8'?>
<config>
	<boot locales="fr_FR">
		<plugin class="io.vertigo.core.plugins.resource.classpath.ClassPathResourceResolverPlugin" />
		<plugin class="io.vertigo.core.plugins.resource.url.URLResourceResolverPlugin" />
		<plugin class="io.vertigo.vega.plugins.webservice.servlet.WebAppContextParamPlugin" />
	</boot>
	<module name="vertigo-commons">
		<component api="AnalyticsManager" class="io.vertigo.commons.impl.analytics.AnalyticsManagerImpl" />
		<component api="CodecManager" class="io.vertigo.commons.impl.codec.CodecManagerImpl" />
		<component api="DaemonManager" class="io.vertigo.commons.impl.daemon.DaemonManagerImpl" />
		<component api="EventBusManager" class="io.vertigo.commons.impl.eventbus.EventBusManagerImpl" />
		<component api="CacheManager" class="io.vertigo.commons.impl.cache.CacheManagerImpl">
			<plugin class="io.vertigo.commons.plugins.cache.memory.MemoryCachePlugin" />
		</component>
		<component api="ScriptManager" class="io.vertigo.commons.impl.script.ScriptManagerImpl">
			<plugin class="io.vertigo.commons.plugins.script.janino.JaninoExpressionEvaluatorPlugin" />
		</component>
		<component api="VTransactionManager" class="io.vertigo.commons.impl.transaction.VTransactionManagerImpl" />
		<aspect class="io.vertigo.commons.impl.transaction.VTransactionAspect"/>
	</module>
	<module name="vertigo-database">
		<component api="SqlDataBaseManager" class="io.vertigo.database.impl.sql.SqlDataBaseManagerImpl">
			<plugin class="io.vertigo.database.plugins.sql.connection.datasource.DataSourceConnectionProviderPlugin">
				<param name="classname" value="${boot.db.classname}" />
				<param name="source" value="${boot.db.source}" />
			</plugin>
		</component>
	</module>
	<module name="vertigo-dynamo">	
		<component api="CollectionsManager" class="io.vertigo.dynamo.impl.collections.CollectionsManagerImpl" />
		<component api="FileManager" class="io.vertigo.dynamo.impl.file.FileManagerImpl" />
		<component api="TaskManager" class="io.vertigo.dynamo.impl.task.TaskManagerImpl" />
		
		<component api="StoreManager" class="io.vertigo.dynamo.impl.store.StoreManagerImpl" >
			<plugin class="io.vertigo.dynamo.plugins.store.datastore.sql.SqlDataStorePlugin">
				<param name="sequencePrefix" value="SEQ_" />
			</plugin>
		</component>
	</module>
	
	<module name="vertigo-vega" >
		<component api="WebServiceManager" class="io.vertigo.vega.impl.webservice.WebServiceManagerImpl">
			<plugin class="io.vertigo.vega.plugins.webservice.scanner.annotations.AnnotationsWebServiceScannerPlugin" />
			<plugin class="io.vertigo.vega.plugins.webservice.webserver.sparkjava.SparkJavaServletFilterWebServerPlugin" >
				<param name="apiPrefix" value="/api"/>
			</plugin>
			<!-- Handlers -->
			
			<plugin class="io.vertigo.vega.plugins.webservice.handler.ExceptionWebServiceHandlerPlugin" />
			<plugin class="io.vertigo.vega.plugins.webservice.handler.JsonConverterWebServiceHandlerPlugin"/>
			<plugin class="io.vertigo.vega.plugins.webservice.handler.ValidatorWebServiceHandlerPlugin" />
			<plugin class="io.vertigo.vega.plugins.webservice.handler.RestfulServiceWebServiceHandlerPlugin" />
		</component>
		<component api="JsonEngine" class="io.vertigo.vega.engines.webservice.json.GoogleJsonEngine"/>
	</module>
	<module name="orchestra-webservices"  >
		<component class="io.vertigo.vega.impl.webservice.catalog.CatalogWebServices" />
		<component class="io.vertigo.vega.impl.webservice.catalog.SwaggerWebServices" />
	</module>
	<feature class="com.mlaroche.smartheater.boot.SmartHeaterFeature"/>
	<module name="smartheater-definition"  >
		<definitions>
			<provider class="io.vertigo.dynamo.plugins.environment.DynamoDefinitionProvider" >
				<resource type ="kpr" path="com/mlaroche/smartheater/domain/execution.kpr"/>
			    <resource type="classes" path="com.mlaroche.smartheater.domain.DtDefinitions" />  
		    </provider>
		</definitions>  
	</module>
	<!-- 
	<init>
		<initializer class="com.mlaroche.smartheater.boot.DataBaseInitializer" />
	</init>
	 -->
</config>